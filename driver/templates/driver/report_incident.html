{% extends 'driver/base.html' %} {% block title %}Report Incident - Driver
Portal{% endblock %} {% block content %}
<div class="page-header">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h2 class="mb-0">
        <i class="fas fa-exclamation-triangle me-2"></i>Report Incident
      </h2>
      <small class="text-muted">Document any issues or problems</small>
    </div>
    <a
      href="{% url 'driver:dashboard' %}"
      class="btn btn-sm btn-outline-primary"
    >
      <i class="fas fa-arrow-left me-1"></i>Back
    </a>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <form method="post">
          {% csrf_token %}

          <div class="mb-3">
            <label for="incidentType" class="form-label"
              ><strong>Incident Type</strong></label
            >
            <select class="form-select" id="incidentType" name="type" required>
              <option value="">Select incident type...</option>
              {% for choice_value, choice_label in incident_types %}
              <option value="{{ choice_value }}">{{ choice_label }}</option>
              {% endfor %}
            </select>
          </div>

          {% if shipment %}
          <div class="mb-3">
            <label class="form-label"><strong>Related Shipment</strong></label>
            <p class="form-control-plaintext">
              <strong>{{ shipment.tracking_number }}</strong><br />
              <small class="text-muted"
                >{{ shipment.destination.city }}, {{
                shipment.destination.country }}</small
              >
            </p>
          </div>
          {% endif %}

          <div class="mb-3">
            <label for="descriptionInput" class="form-label"
              ><strong>Description</strong></label
            >
            <textarea
              class="form-control"
              id="descriptionInput"
              name="description"
              rows="5"
              placeholder="Provide detailed information about the incident..."
              required
            ></textarea>
            <small class="text-muted"
              >Include what happened, when, and any relevant details</small
            >
          </div>

          <div class="alert alert-info" role="alert">
            <i class="fas fa-info-circle me-2"></i>
            <strong>Important:</strong> Please be as detailed as possible when
            describing the incident. This information helps us improve our
            service and resolve issues quickly.
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-danger btn-lg">
              <i class="fas fa-exclamation-triangle me-2"></i>Report Incident
            </button>
            <a
              href="{% url 'driver:dashboard' %}"
              class="btn btn-outline-secondary"
            >
              Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .form-select,
  .form-control {
    border-radius: 8px;
  }

  .form-label {
    color: #212529;
    margin-bottom: 0.75rem;
  }
</style>
{% endblock %}
